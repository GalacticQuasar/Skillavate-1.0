<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="theme-color" content="#008ca8" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/style.css" />
		<link rel="icon" href="skillavate-icon.ico" />
		<title>Skillavate</title>
	</head>
	<body>
		<!-- Header -->
		<%- include('partials/header') %>

		<div class="container mt-4">
			<!-- Filter Section -->
			<div class="row">
				<div class="col">
					<label for="location">Location:</label>
					<select id="location" class="form-control">
						<option value="all">All Locations</option>
						<!-- Location Dropdown -->
						<option value="location1">Location 1</option>
						<option value="location2">Location 2</option>
						<option value="location3">Location 3</option>
					</select>
				</div>
				<div class="col">
					<label for="skill-group">Skill Group:</label>
					<select id="skill-group" class="form-control">
						<option value="all">All Skill Groups</option>
						<!-- Skill Group Dropdown -->
						<option value="group1">Skill Group 1</option>
						<option value="group2">Skill Group 2</option>
						<option value="group3">Skill Group 3</option>
					</select>
				</div>
				<div class="col">
					<label for="skill">Skill:</label>
					<select id="skill" class="form-control">
						<option value="all">All Skills</option>
						<!-- Skill Dropdown -->
						<option value="skill1">Skill 1</option>
						<option value="skill2">Skill 2</option>
						<option value="skill3">Skill 3</option>
					</select>
				</div>
			</div>

			<!-- Divider -->
			<hr style="border-top: 1px solid var(--dark-color)" />

			<!-- Services Grid -->
			<div id="servicelist" class="row row-cols-3 g-100"></div>
		</div>

		<!-- Footer -->
		<%- include('partials/footer') %>

		<script>
			(async () => {
				(await fetch("/api/servicelist").then((res) => res.json())).forEach((elem) => {
					let gridDiv = document.createElement("div");
					gridDiv.setAttribute("class", "col");
					gridDiv.style = "margin-top: 20px;";

					gridDiv.innerHTML = `
					<div class="card custom-card">
					<img class="card-img-top" src="/skillavate-icon.svg" alt="Card image cap" width="50" height="100">
					<div class="card-body">
						<h5 class="card-title" style="color: var(--primary-color)">${elem.name}</h5>
						<p class="card-text">${elem.description}</p>
						<a
							href="/service/${elem._id}"
							class="btn btn-primary"
							>View Service</a
						>
					</div>
				</div>`;

					// let cardBodyDiv = document.createElement("div");
					// cardBodyDiv.setAttribute("class", "card-body");

					// let cardTitleElem = document.createElement("h5");
					// cardTitleElem.setAttribute("class", "card-title");
					// cardTitleElem.style = "color: var(--primary-color)";
					// cardTitleElem.innerHTML = elem.name;

					// let cardDescription = document.createElement("p");
					// cardDescription.setAttribute("class", "card-text");
					// cardDescription.innerHTML = elem.description;

					// let viewServiceBtn = document.createElement("a");
					// viewServiceBtn.setAttribute("class", "btn btn-primary");
					// viewServiceBtn.href = `/service/${elem._id}`;
					// viewServiceBtn.style = "background-color: var(--primary-color); border: none; border-radius: 10px";
					// viewServiceBtn.innerHTML = "View Service";

					// cardBodyDiv.appendChild(cardTitleElem);
					// cardBodyDiv.appendChild(cardDescription);
					// cardBodyDiv.appendChild(viewServiceBtn);
					// cardDiv.appendChild(cardBodyDiv);

					document.getElementById("servicelist").appendChild(gridDiv);
				});
			})();
		</script>
	</body>
</html>
